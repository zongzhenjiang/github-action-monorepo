on: push

jobs:
    loop-through-projects:
        runs-on: ubuntu-latest
        steps:
        - name: Checkout Code
          uses: actions/checkout@v4
          with:
            fetch-depth: 0
        
        - name: Install dependencies
          run: |
            npm install -g pnpm@latest-10
            pnpm --version
        
        - name: Loop through files in a directory
          run: |
            for dir in webs/*; do
              if [ -d "$dir" ]; then
                echo "Directory: $dir"
                if git diff --quiet HEAD^ HEAD -- "$dir"; then
                  echo "No changes."
                else
                  echo "Changes detected."
                fi
              fi
            done