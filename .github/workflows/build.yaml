on: push

jobs:
    loop-through-projects:
        runs-on: ubuntu-latest
        steps:
        - name: Checkout Code
          uses: actions/checkout@v2
  
        - name: Loop
          run: |
            # 进入目标文件夹
            for dir in webs/*; do
              if [ -d "$dir" ]; then
                echo "Processing directory: $dir"
                if [ -f "$dir/package.json" ]; then
                    version=$(jq -r '.version' "$dir/package.json")
                    echo "Package version: $version"
                fi
              fi
            done